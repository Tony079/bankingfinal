<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Permission Form</title>
<style>
body {
	font-family: Arial, sans-serif;
}

form {
	max-width: 400px;
	margin: 0 auto;
	padding: 20px;
	border: 1px solid #ccc;
	border-radius: 5px;
}

label {
	display: block;
	margin-bottom: 10px;
	font-size: 14px;
	font-weight: bold;
}

select, input[type="text"] {
	width: 100%;
	padding: 8px;
	margin-bottom: 10px;
	border: 1px solid #ccc;
	border-radius: 5px;
	font-size: 14px;
}

.checkbox-group {
	margin-bottom: 10px;
}

.checkbox-group label {
	display: block;
	margin-bottom: 5px;
	font-size: 14px;
}

button[type="submit"] {
	background-color: #003366;
	color: white;
	padding: 10px 16px;
	border: none;
	border-radius: 5px;
	cursor: pointer;
	font-size: 14px;
	width: auto;
}
</style>
</head>
<body>
	<h3 style="text-align: center;">Permissions Management</h3>
	<form>
		<label for="role">Select Designation:</label> <select id="role"
			name="role">
			<option value="Clerk">Clerk</option>
			<option value="Account Processing">Account Processing</option>
			<option value="Bank Officer">Bank Officers</option>
		</select>

		<div class="checkbox-group">
			<label for="Accountedit"> <input type="checkbox"
				id="Accountedit" name="Accountedit"
				th:checked="${permissions.Accountedit}"> Account Edit
			</label> <label for="Accountdel"> <input type="checkbox"
				id="Accountdel" name="Accountdel"
				th:checked="${permissions.Accountdel}"> Account Delete
			</label> <label for="Accountactive"> <input type="checkbox"
				id="Accountactive" name="Accountactive"
				th:checked="${permissions.Accountactive}"> Account Active
			</label> <label for="transactions"> <input type="checkbox"
				id="transactions" name="transactions"
				th:checked="${permissions.transactions}"> Transactions
			</label> <label for="appforms"> <input type="checkbox" id="appforms"
				name="appforms" th:checked="${permissions.appforms}"> App
				Forms
			</label> <label for="security"> <input type="checkbox" id="security"
				name="security" th:checked="${permissions.security}">
				Security
			</label> <label for="accprocessing"> <input type="checkbox"
				id="accprocessing" name="accprocessing"
				th:checked="${permissions.accprocessing}"> Account
				Processing
			</label> <label for="cusedit"> <input type="checkbox" id="cusedit"
				name="cusedit" th:checked="${permissions.cusedit}"> Customer
				Edit
			</label> <label for="users"> <input type="checkbox" id="users"
				name="users" th:checked="${permissions.users}"> Users
			</label>
		</div>

		<button id="submit">Submit</button>
	</form>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<script>
		$(document).ready(function() {
			$("#submit").click(function(event) {
				event.preventDefault(); // Prevent the default form submission

				// Get the permissions from the checkboxes
				var permissions = {
				    role = $("#role").val(),
					Accountedit : $("#Accountedit").is(":checked"),
					Accountdel : $("#Accountdel").is(":checked"),
					Accountactive : $("#Accountactive").is(":checked"),
					transactions : $("#transactions").is(":checked"),
					appforms : $("#appforms").is(":checked"),
					security : $("#security").is(":checked"),
					accprocessing : $("#accprocessing").is(":checked"),
					cusedit : $("#cusedit").is(":checked"),
					users : $("#users").is(":checked")
				};



				// Make the AJAX POST request to submit the form data
				$.ajax({
					url : "savePermissionData", // Replace "your-submit-url" with the actual endpoint to which you want to submit the data
					type : "POST", // Change this to the appropriate method (POST/GET) as per your backend requirements
					data : JSON.stringify(permissions),
					contentType : "application/json",
				    dataType: "json", // Add this line
					success : function(response) {
						// Handle the success response here
						console.log("Form submitted successfully!");
						console.log(response); // You can do something with the response if needed
					},
					error : function(error) {
						// Handle the error response here
						console.error("Error submitting the form:", error);
					}
				});
			});
		});
	</script>

</body>
</html>
